<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition template="./templates/miTemplate.xhtml">

            <ui:define name="left">
                <p:panelGrid columns="1">
                    <p:link outcome="catalogoAsesores" value="Asesores"/>
                    <p:link outcome="catalogoAlumnos" value="Alumnos"/>
                    <p:link outcome="catalogoCitas" value="Citas"/>
                    <p:link outcome="catalogoAdministradores" value="Administradores"/>
                </p:panelGrid>
            </ui:define>

            <ui:define name="content">
                <h1>Administrador</h1>
                
                <h3>Agregar nuevos elementos</h3>
                    <p:accordionPanel dynamic="true" cache="true">
                        <p:tab title="Crear nuevo Alumno">
                            <h:form>
                                <p:growl showDetail="true" sticky="true"/>
                                <p:panelGrid columns="2">
                                    <p:outputLabel value="Ingresa la matricula"/>
                                    <p:inputText value="#{administradorBacking.alumno.matricula}"
                                                 validatorMessage="La matricula debe ser de 5 digitos"
                                                 placeholder="MATRICULA"
                                                 required="true"
                                                 requiredMessage="Ingresa matricula">
                                        <f:validateRegex pattern="[0-9]{5}"/>
                                    </p:inputText>
                                    <p:outputLabel value="Ingresa el nombre"/>
                                    <p:inputText value="#{administradorBacking.alumno.nombre}"
                                                 placeholder="NOMBRE"
                                                 required="true"
                                                 requiredMessage="Ingresa el nombre"/>
                                    <p:outputLabel value="Ingresa el apellido paterno"/>
                                    <p:inputText value="#{administradorBacking.alumno.paterno}"
                                                 placeholder="PATERNO"
                                                 required="true"
                                                 requiredMessage="Ingresa apellido paterno"/>
                                    <p:outputLabel value="Ingresa el apellido materno"/>
                                    <p:inputText value="#{administradorBacking.alumno.materno}"
                                                 placeholder="MATERNO"
                                                 required="true"
                                                 requiredMessage="Ingresa apellido materno"/>
                                    <p:outputLabel value="Ingresa el telefono"/>
                                    <p:inputText value="#{administradorBacking.alumno.telefono}"
                                                 validatorMessage="El telefono debe ser de 10 digitos"
                                                 placeholder="TELEFONO"
                                                 required="true"
                                                 requiredMessage="Ingresa telefono">
                                        <f:validateRegex pattern="[0-9]{10}"/>
                                    </p:inputText>
                                    <p:outputLabel value="Ingresa el correo"/>
                                    <p:inputText value="#{administradorBacking.alumno.correo}"
                                                 validatorMessage="Ingresa un formato correcto de correo"
                                                 placeholder="CORREO"
                                                 required="true"
                                                 requiredMessage="Ingresa correo">
                                        <f:validateRegex pattern="[a-zA-Z]*@[a-z]{4}\.[a-z]{3}"/>
                                    </p:inputText>
                                    <p:outputLabel value="Ingresa el password"/>
                                    <p:password value="#{administradorBacking.alumno.password}"
                                                 placeholder="PASSWORD"
                                                 required="true"
                                                 requiredMessage="Ingresa password"/>
                                    <p:outputLabel value="Ingresa nivel educativo"/>
                                    <p:selectOneRadio value="#{administradorBacking.alumno.nivelEducativo}"
                                                      required="true"
                                                      requiredMessage="Selecciona el nivel educativo">
                                        <f:selectItem itemLabel="Licenciatura" itemValue="licenciatura" />
                                        <f:selectItem itemLabel="Maestria" itemValue="maestria" />
                                        <f:selectItem itemLabel="Doctorado" itemValue="doctorado" />
                                    </p:selectOneRadio>
                                    <p:outputLabel value="Ingresa la materia"/>
                                    <p:selectOneMenu value="#{administradorBacking.materia.id}" style="width: 45%;">
                                        <f:selectItems value="#{administradorBacking.listaMaterias}" var="mat"
                                               itemValue="#{mat.id}" itemLabel="#{mat.nombre}"/>
                                    </p:selectOneMenu>
                                </p:panelGrid>
                                <h:commandButton value="Guardar"
                                                 actionListener="#{administradorBacking.nuevoAlumno}"/>
                            </h:form>
                            
                            
                        </p:tab>
                        <p:tab title="Crear nuevo Asesor">
                            
                            <h:form>
                                <p:growl showDetail="true" sticky="true"/>
                                <p:panelGrid columns="2">
                                    <p:outputLabel value="Ingresa el nombre"/>
                                    <p:inputText value="#{administradorBacking.asesor.nombre}"
                                                 placeholder="NOMBRE"
                                                 required="true"
                                                 requiredMessage="Ingresa nombre"/>
                                    <p:outputLabel value="Ingresa el apellido paterno"/>
                                    <p:inputText value="#{administradorBacking.asesor.paterno}"
                                                 placeholder="PATERNO"
                                                 required="true"
                                                 requiredMessage="Ingresa apellido paterno"/>
                                    <p:outputLabel value="Ingresa el apellido materno"/>
                                    <p:inputText value="#{administradorBacking.asesor.materno}"
                                                 placeholder="MATERNO"
                                                 required="true"
                                                 requiredMessage="Ingresa apellido materno"/>
                                    <p:outputLabel value="Ingresa la especialidad"/>
                                    <p:inputText value="#{administradorBacking.asesor.especialidad}"
                                                 placeholder="ESPECIALIDAD"
                                                 required="true"
                                                 requiredMessage="Ingresa la especialidad"/>
                                    <p:outputLabel value="Ingresa el correo"/>
                                    <p:inputText value="#{administradorBacking.asesor.correo}"
                                                 validatorMessage="Ingresa un formato correcto de correo"
                                                 placeholder="CORREO"
                                                 required="true"
                                                 requiredMessage="Ingresa correo">
                                        <f:validateRegex pattern="[a-zA-Z]*@[a-z]{4}\.[a-z]{3}"/>
                                    </p:inputText>
                                    <p:outputLabel value="Ingresa el password"/>
                                    <p:password value="#{administradorBacking.asesor.password}"
                                                 placeholder="PASSWORD"
                                                 required="true"
                                                 requiredMessage="Ingresa password"/>
                                </p:panelGrid>
                                <h:commandButton value="Guardar"
                                                 actionListener="#{administradorBacking.nuevoAsesor}"/>
                            </h:form>
                            
                            
                        </p:tab>
                        <p:tab title="Agregar otro administrador">
                            <h:form>
                                <p:growl showDetail="true" sticky="true"/>
                                <p:panelGrid columns="2">
                                    <p:outputLabel value="Ingresa el correo"/>
                                    <p:inputText value="#{administradorBacking.administrador.correo}"
                                                 validatorMessage="Ingresa un formato correcto de correo"
                                                 placeholder="CORREO"
                                                 required="true"
                                                 requiredMessage="Ingresa correo">
                                        <f:validateRegex pattern="[a-zA-Z]*@[a-z]{4}\.[a-z]{3}"/>
                                    </p:inputText>
                                    <p:outputLabel value="Ingresa el password"/>
                                    <p:password value="#{administradorBacking.administrador.password}"
                                                 placeholder="PASSWORD"
                                                 required="true"
                                                 requiredMessage="Ingresa password"/>
                                    <p:outputLabel value="Ingresa el nombre"/>
                                    <p:inputText value="#{administradorBacking.administrador.nombre}"
                                                 placeholder="NOMBRE"
                                                 required="true"
                                                 requiredMessage="Ingresa nombre"/>
                                    <p:outputLabel value="Ingresa el apellido paterno"/>
                                    <p:inputText value="#{administradorBacking.administrador.paterno}"
                                                 placeholder="PATERNO"
                                                 required="true"
                                                 requiredMessage="Ingresa apellido paterno"/>
                                    <p:outputLabel value="Ingresa el apellido materno"/>
                                    <p:inputText value="#{administradorBacking.administrador.materno}"
                                                 placeholder="MATERNO"
                                                 required="true"
                                                 requiredMessage="Ingresa apellido materno"/>
                                </p:panelGrid>
                                <h:commandButton value="Guardar"
                                                 actionListener="#{administradorBacking.nuevoAdministrador}"/>
                            </h:form>
                        </p:tab>
                        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////7777
                        <p:tab title="Crear nueva Materia">
                            <h4>Un profesor solo puede tener una materia</h4>
                            <h1>Asegurese de crear un asesor antes</h1>
                            <h1>y que este no tenga materias asignadas</h1>
                            <h:form>
                                <p:growl showDetail="true" sticky="true"/>
                                <p:panelGrid columns="2">
                                    <p:outputLabel value="Ingresa el nombre"/>
                                    <p:inputText value="#{administradorBacking.materia.nombre}"
                                                 placeholder="NOMBRE"
                                                 required="true"
                                                 requiredMessage="Ingresa el nombre"/>
                                    <p:outputLabel value="Ingresa la descripcion"/>
                                    <p:inputText value="#{administradorBacking.materia.descripcion}"
                                                 placeholder="DESCRIPCION"
                                                 required="true"
                                                 requiredMessage="Ingresa la descripcion"/>
                                    <p:outputLabel value="Ingresa el asesor"/>
                                    <p:selectOneMenu value="#{administradorBacking.asesor.id}" style="width: 45%;"
                                                     required="true"
                                                     requiredMessage="Selecciona asesor">
                                        <f:selectItems value="#{administradorBacking.listaAsesores}" var="mat"
                                                       itemValue="#{mat.id}" itemLabel="#{mat.nombre} #{mat.paterno}"/>
                                    </p:selectOneMenu>
                                </p:panelGrid>
                                <h:commandButton value="Guardar"
                                                 actionListener="#{administradorBacking.nuevaMateria}"/>
                            </h:form>
                        </p:tab>
                    </p:accordionPanel>                
            </ui:define>

        </ui:composition>

    </body>
</html>
